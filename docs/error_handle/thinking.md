# 异常处理思考

## Before

1. 站在整个程序切面：先前check，后续一定正确，不需要异常处理。
2. 站在函数切面：函数需要鲁棒性，对异常输入不能都是不可恢复错误。

## After

1. 在程序设计的过程中，根据既定设计逻辑（解析（验证）-> 转换）

   所以在开发过程中，只有解析部分才需要真正考虑验证问题，转换时只需要关注真实的业务逻辑

   在验证之后，转换接口的所有输入都是合法的，正确的，因此也不需要考虑验证问题。

   这些接口都是不暴露给用户的，属于内部代码，因此也不需要过于考虑接口的鲁棒性问题。

2. 在设计接口的时候，需要关注用户端，但不需要考虑太多

   作为接口的设计者/开发者，诚然我们需要关注用户的输入，但是我们不可能面面俱到，

   只需要符合设计的直觉和理论即可。

3. 采用不同的异常处理方式，需要结合真实的情况决定。

   > 假如存在长度为10和长度为20的数组比较，
   >
   > 根据实际场景，数据输入的情况判断。
   >
   > 如果大概率出现长度不相同的情况，那么就要提前感知错误，避免多余的运行开销。
   >
   > 相反，则考虑出错时报错机制。

在问问题的时候，需要聚焦核心问题